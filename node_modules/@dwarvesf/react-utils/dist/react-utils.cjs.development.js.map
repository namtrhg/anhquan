{"version":3,"file":"react-utils.cjs.development.js","sources":["../src/isSSR.ts","../src/createContext.tsx","../src/noop.ts","../src/callAllHandlers.ts","../src/truncate.ts","../src/cleanChildren.ts","../src/sleep.ts"],"sourcesContent":["export default function isSSR() {\n  return typeof window === 'undefined'\n}\n","import React from 'react'\n\nexport interface CreateContextOptions {\n  /**\n   * If `true`, React will throw if context is `null` or `undefined`\n   * In some cases, you might want to support nested context, so you can set it to `false`\n   */\n  strict?: boolean\n  errorMessage?: string\n  name?: string\n}\n\ntype CreateContextReturn<T> = [React.Provider<T>, () => T, React.Context<T>]\n\nexport default function createContext<ContextType>(\n  options: CreateContextOptions = {},\n) {\n  const {\n    strict = true,\n    errorMessage = 'useContext must be inside a Provider with a value',\n    name,\n  } = options\n\n  const Context = React.createContext<ContextType | undefined>(undefined)\n\n  Context.displayName = name\n\n  function useContext() {\n    const context = React.useContext(Context)\n    if (!context && strict) throw new Error(errorMessage)\n\n    return context\n  }\n\n  return [\n    Context.Provider,\n    useContext,\n    Context,\n  ] as CreateContextReturn<ContextType>\n}\n","export default function noop() {}\n","import { FunctionArguments } from './types'\n\nexport default function callAllHandlers<T extends (event: any) => void>(\n  ...fns: (T | undefined)[]\n) {\n  return function func(event: FunctionArguments<T>[0]) {\n    fns.some((fn) => {\n      fn?.(event)\n      return event?.defaultPrevented\n    })\n  }\n}\n","export default function truncate(\n  str: string,\n  num: number,\n  middle: boolean = false,\n  maskChar: string = '.',\n) {\n  if (str.length > num && str.length > 3) {\n    if (!middle) {\n      return `${str.substring(0, num)}${maskChar.repeat(3)}`\n    }\n\n    const a = Math.round((num * 2) / 3)\n    const b = num - a\n\n    return `${str.substring(0, a)}${maskChar.repeat(3)}${str.substring(\n      str.length - b,\n      str.length,\n    )}`\n  }\n\n  return str\n}\n","import React, { Children, isValidElement } from 'react'\n/**\n * Get a list of all valid React child elements\n * @param children\n */\nexport default function cleanChildren(\n  children: React.ReactChildren | React.ReactNode,\n): Array<React.ReactElement> {\n  return Children.toArray(children).filter((child) =>\n    isValidElement(child),\n  ) as React.ReactElement[]\n}\n","export default function sleep(time: number) {\n  return new Promise((resolve) => setTimeout(resolve, time))\n}\n"],"names":["isSSR","window","createContext","options","strict","errorMessage","name","Context","React","undefined","displayName","useContext","context","Error","Provider","noop","callAllHandlers","fns","func","event","some","fn","defaultPrevented","truncate","str","num","middle","maskChar","length","substring","repeat","a","Math","round","b","cleanChildren","children","Children","toArray","filter","child","isValidElement","sleep","time","Promise","resolve","setTimeout"],"mappings":";;;;;;;;;SAAwBA;AACtB,SAAO,OAAOC,MAAP,KAAkB,WAAzB;AACD;;SCYuBC,cACtBC;MAAAA;AAAAA,IAAAA,UAAgC;;;AAEhC,iBAIIA,OAJJ;AAAA,iCACEC,MADF;AAAA,MACEA,MADF,gCACW,IADX;AAAA,uCAEEC,YAFF;AAAA,MAEEA,YAFF,sCAEiB,mDAFjB;AAAA,MAGEC,IAHF,YAGEA,IAHF;AAMA,MAAMC,OAAO,GAAGC,cAAK,CAACN,aAAN,CAA6CO,SAA7C,CAAhB;AAEAF,EAAAA,OAAO,CAACG,WAAR,GAAsBJ,IAAtB;;AAEA,WAASK,UAAT;AACE,QAAMC,OAAO,GAAGJ,cAAK,CAACG,UAAN,CAAiBJ,OAAjB,CAAhB;AACA,QAAI,CAACK,OAAD,IAAYR,MAAhB,EAAwB,MAAM,IAAIS,KAAJ,CAAUR,YAAV,CAAN;AAExB,WAAOO,OAAP;AACD;;AAED,SAAO,CACLL,OAAO,CAACO,QADH,EAELH,UAFK,EAGLJ,OAHK,CAAP;AAKD;;SCvCuBQ;;SCEAC;oCACnBC;AAAAA,IAAAA;;;AAEH,SAAO,SAASC,IAAT,CAAcC,KAAd;AACLF,IAAAA,GAAG,CAACG,IAAJ,CAAS,UAACC,EAAD;AACPA,MAAAA,EAAE,QAAF,YAAAA,EAAE,CAAGF,KAAH,CAAF;AACA,aAAOA,KAAP,oBAAOA,KAAK,CAAEG,gBAAd;AACD,KAHD;AAID,GALD;AAMD;;SCXuBC,SACtBC,KACAC,KACAC,QACAC;MADAD;AAAAA,IAAAA,SAAkB;;;MAClBC;AAAAA,IAAAA,WAAmB;;;AAEnB,MAAIH,GAAG,CAACI,MAAJ,GAAaH,GAAb,IAAoBD,GAAG,CAACI,MAAJ,GAAa,CAArC,EAAwC;AACtC,QAAI,CAACF,MAAL,EAAa;AACX,kBAAUF,GAAG,CAACK,SAAJ,CAAc,CAAd,EAAiBJ,GAAjB,CAAV,GAAkCE,QAAQ,CAACG,MAAT,CAAgB,CAAhB,CAAlC;AACD;;AAED,QAAMC,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAYR,GAAG,GAAG,CAAP,GAAY,CAAvB,CAAV;AACA,QAAMS,CAAC,GAAGT,GAAG,GAAGM,CAAhB;AAEA,gBAAUP,GAAG,CAACK,SAAJ,CAAc,CAAd,EAAiBE,CAAjB,CAAV,GAAgCJ,QAAQ,CAACG,MAAT,CAAgB,CAAhB,CAAhC,GAAqDN,GAAG,CAACK,SAAJ,CACnDL,GAAG,CAACI,MAAJ,GAAaM,CADsC,EAEnDV,GAAG,CAACI,MAF+C,CAArD;AAID;;AAED,SAAOJ,GAAP;AACD;;ACpBD;;;;;AAIA,SAAwBW,cACtBC;AAEA,SAAOC,cAAQ,CAACC,OAAT,CAAiBF,QAAjB,EAA2BG,MAA3B,CAAkC,UAACC,KAAD;AAAA,WACvCC,oBAAc,CAACD,KAAD,CADyB;AAAA,GAAlC,CAAP;AAGD;;SCXuBE,MAAMC;AAC5B,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,WAAaC,UAAU,CAACD,OAAD,EAAUF,IAAV,CAAvB;AAAA,GAAZ,CAAP;AACD;;;;;;;;;;"}