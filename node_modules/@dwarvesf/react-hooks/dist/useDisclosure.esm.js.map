{"version":3,"file":"useDisclosure.esm.js","sources":["../src/useDisclosure.ts"],"sourcesContent":["import { useState, useCallback } from 'react'\nimport usePrevious from './usePrevious'\n\nexport interface UseDisclosureProps {\n  defaultIsOpen?: boolean\n  onClose?(): void\n  onOpen?(): void\n}\n\nexport default function useDisclosure(props: UseDisclosureProps = {}) {\n  const { onClose: onCloseProp, onOpen: onOpenProp } = props\n\n  const [isOpen, setIsOpen] = useState(props.defaultIsOpen || false)\n\n  const prevIsOpen = usePrevious(isOpen)\n\n  const onClose = useCallback(() => {\n    setIsOpen(false)\n    if (onCloseProp) {\n      onCloseProp()\n    }\n  }, [onCloseProp])\n\n  const onOpen = useCallback(() => {\n    setIsOpen(true)\n    if (onOpenProp) {\n      onOpenProp()\n    }\n  }, [onOpenProp])\n\n  const onToggle = useCallback(() => {\n    const action = isOpen ? onClose : onOpen\n    action()\n  }, [isOpen, onOpen, onClose])\n\n  return {\n    isOpen: !!isOpen,\n    prevIsOpen: !!prevIsOpen,\n    onOpen,\n    onClose,\n    onToggle,\n  }\n}\n\nexport type UseDisclosureReturn = ReturnType<typeof useDisclosure>\n"],"names":["useDisclosure","props","onCloseProp","onClose","onOpenProp","onOpen","useState","defaultIsOpen","isOpen","setIsOpen","prevIsOpen","usePrevious","useCallback","onToggle","action"],"mappings":";;;SASwBA,cAAcC;MAAAA;AAAAA,IAAAA,QAA4B;;;AAChE,eAAqDA,KAArD;AAAA,MAAiBC,WAAjB,UAAQC,OAAR;AAAA,MAAsCC,UAAtC,UAA8BC,MAA9B;;AAEA,kBAA4BC,QAAQ,CAACL,KAAK,CAACM,aAAN,IAAuB,KAAxB,CAApC;AAAA,MAAOC,MAAP;AAAA,MAAeC,SAAf;;AAEA,MAAMC,UAAU,GAAGC,WAAW,CAACH,MAAD,CAA9B;AAEA,MAAML,OAAO,GAAGS,WAAW,CAAC;AAC1BH,IAAAA,SAAS,CAAC,KAAD,CAAT;;AACA,QAAIP,WAAJ,EAAiB;AACfA,MAAAA,WAAW;AACZ;AACF,GAL0B,EAKxB,CAACA,WAAD,CALwB,CAA3B;AAOA,MAAMG,MAAM,GAAGO,WAAW,CAAC;AACzBH,IAAAA,SAAS,CAAC,IAAD,CAAT;;AACA,QAAIL,UAAJ,EAAgB;AACdA,MAAAA,UAAU;AACX;AACF,GALyB,EAKvB,CAACA,UAAD,CALuB,CAA1B;AAOA,MAAMS,QAAQ,GAAGD,WAAW,CAAC;AAC3B,QAAME,MAAM,GAAGN,MAAM,GAAGL,OAAH,GAAaE,MAAlC;AACAS,IAAAA,MAAM;AACP,GAH2B,EAGzB,CAACN,MAAD,EAASH,MAAT,EAAiBF,OAAjB,CAHyB,CAA5B;AAKA,SAAO;AACLK,IAAAA,MAAM,EAAE,CAAC,CAACA,MADL;AAELE,IAAAA,UAAU,EAAE,CAAC,CAACA,UAFT;AAGLL,IAAAA,MAAM,EAANA,MAHK;AAILF,IAAAA,OAAO,EAAPA,OAJK;AAKLU,IAAAA,QAAQ,EAARA;AALK,GAAP;AAOD;;;;"}