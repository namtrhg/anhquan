{"version":3,"file":"useClipboard.esm.js","sources":["../src/useClipboard.ts"],"sourcesContent":["import { useState, useCallback, useEffect } from 'react'\nimport copy from 'copy-to-clipboard'\n\nexport interface UseClipboardOptions {\n  /**\n   * timeout delay (in ms) to switch back to initial state once copied.\n   */\n  timeout?: number\n  /**\n   * Set the desired MIME type\n   */\n  format?: string\n}\n\n/**\n * React hook to copy content to clipboard\n *\n * @param text the text or value to copy\n * @param {Number} [optionsOrTimeout=1500] optionsOrTimeout - delay (in ms) to switch back to initial state once copied.\n * @param {Object} optionsOrTimeout\n * @param {string} optionsOrTimeout.format - set the desired MIME type\n * @param {number} optionsOrTimeout.timeout - delay (in ms) to switch back to initial state once copied.\n */\nexport default function useClipboard(\n  text: string,\n  optionsOrTimeout: number | UseClipboardOptions = {},\n) {\n  const [hasCopied, setHasCopied] = useState(false)\n\n  const { timeout = 1500, ...copyOptions } =\n    typeof optionsOrTimeout === 'number'\n      ? { timeout: optionsOrTimeout }\n      : optionsOrTimeout\n\n  const onCopy = useCallback(() => {\n    const didCopy = copy(text, copyOptions)\n    setHasCopied(didCopy)\n  }, [text, copyOptions])\n\n  useEffect(() => {\n    let timeoutId: number | null = null\n\n    if (hasCopied) {\n      timeoutId = window.setTimeout(() => {\n        setHasCopied(false)\n      }, timeout)\n    }\n\n    return () => {\n      if (timeoutId) {\n        window.clearTimeout(timeoutId)\n      }\n    }\n  }, [timeout, hasCopied])\n\n  return { value: text, onCopy, hasCopied }\n}\n"],"names":["useClipboard","text","optionsOrTimeout","useState","hasCopied","setHasCopied","timeout","copyOptions","onCopy","useCallback","didCopy","copy","useEffect","timeoutId","window","setTimeout","clearTimeout","value"],"mappings":";;;;;AAcA;;;;;;;;;;SASwBA,aACtBC,MACAC;MAAAA;AAAAA,IAAAA,mBAAiD;;;AAEjD,kBAAkCC,QAAQ,CAAC,KAAD,CAA1C;AAAA,MAAOC,SAAP;AAAA,MAAkBC,YAAlB;;AAEA,aACE,OAAOH,gBAAP,KAA4B,QAA5B,GACI;AAAEI,IAAAA,OAAO,EAAEJ;AAAX,GADJ,GAEIA,gBAHN;AAAA,0BAAQI,OAAR;AAAA,MAAQA,OAAR,6BAAkB,IAAlB;AAAA,MAA2BC,WAA3B;;AAKA,MAAMC,MAAM,GAAGC,WAAW,CAAC;AACzB,QAAMC,OAAO,GAAGC,IAAI,CAACV,IAAD,EAAOM,WAAP,CAApB;AACAF,IAAAA,YAAY,CAACK,OAAD,CAAZ;AACD,GAHyB,EAGvB,CAACT,IAAD,EAAOM,WAAP,CAHuB,CAA1B;AAKAK,EAAAA,SAAS,CAAC;AACR,QAAIC,SAAS,GAAkB,IAA/B;;AAEA,QAAIT,SAAJ,EAAe;AACbS,MAAAA,SAAS,GAAGC,MAAM,CAACC,UAAP,CAAkB;AAC5BV,QAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,OAFW,EAETC,OAFS,CAAZ;AAGD;;AAED,WAAO;AACL,UAAIO,SAAJ,EAAe;AACbC,QAAAA,MAAM,CAACE,YAAP,CAAoBH,SAApB;AACD;AACF,KAJD;AAKD,GAdQ,EAcN,CAACP,OAAD,EAAUF,SAAV,CAdM,CAAT;AAgBA,SAAO;AAAEa,IAAAA,KAAK,EAAEhB,IAAT;AAAeO,IAAAA,MAAM,EAANA,MAAf;AAAuBJ,IAAAA,SAAS,EAATA;AAAvB,GAAP;AACD;;;;"}