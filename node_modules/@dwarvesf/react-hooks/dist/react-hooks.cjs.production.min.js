"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,n=require("react"),t=(e=require("copy-to-clipboard"))&&"object"==typeof e&&"default"in e?e.default:e,u=require("@dwarvesf/react-utils");function r(e){var t=n.useRef();return n.useEffect((function(){t.current=e}),[e]),t.current}function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(e[u]=t[u])}return e}).apply(this,arguments)}var c=["timeout"];function i(e,n){if(null!=e)if("function"!=typeof e)try{e.current=n}catch(t){throw new Error("Cannot assign value '"+n+"' to ref '"+e+"'")}else e(n)}var f=["mousedown","touchstart"];exports.useAsyncEffect=function(e,t,u){var r,o;void 0===t&&(t=[]),void 0===u&&(u=[]),"function"==typeof t?(o=t,r=u):r=t||[],n.useEffect((function(){var n,t=!0,u=e((function(){return t}));return Promise.resolve(u).then((function(e){n=e})),function(){t=!1,"function"==typeof o&&o(n)}}),r)},exports.useClipboard=function(e,u){void 0===u&&(u={});var r=n.useState(!1),o=r[0],i=r[1],f="number"==typeof u?{timeout:u}:u,a=f.timeout,s=void 0===a?1500:a,l=function(e,n){if(null==e)return{};var t,u,r={},o=Object.keys(e);for(u=0;u<o.length;u++)n.indexOf(t=o[u])>=0||(r[t]=e[t]);return r}(f,c),v=n.useCallback((function(){var n=t(e,l);i(n)}),[e,l]);return n.useEffect((function(){var e=null;return o&&(e=window.setTimeout((function(){i(!1)}),s)),function(){e&&window.clearTimeout(e)}}),[s,o]),{value:e,onCopy:v,hasCopied:o}},exports.useConstant=function(e){var t=n.useRef(null);return null===t.current&&(t.current="function"==typeof e?e():e),t.current},exports.useDebounce=function(e,t){var u=n.useState(e),r=u[0],o=u[1];return n.useEffect((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},exports.useDisclosure=function(e){void 0===e&&(e={});var t=e.onClose,u=e.onOpen,o=n.useState(e.defaultIsOpen||!1),c=o[0],i=o[1],f=r(c),a=n.useCallback((function(){i(!1),t&&t()}),[t]),s=n.useCallback((function(){i(!0),u&&u()}),[u]),l=n.useCallback((function(){(c?a:s)()}),[c,s,a]);return{isOpen:!!c,prevIsOpen:!!f,onOpen:s,onClose:a,onToggle:l}},exports.useForceUpdate=function(){var e=n.useState(0),t=e[0],u=e[1];return n.useCallback((function(){return u(t+1)}),[t])},exports.useHasMounted=function(){var e=n.useState(!1),t=e[0],u=e[1];return n.useEffect((function(){u(!0)}),[]),t},exports.useLockBodyScroll=function(){n.useLayoutEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[])},exports.useMedia=function(e,t,r){var o=u.isSSR()?[]:e.map((function(e){return window.matchMedia(e)})),c=n.useCallback((function(){var e=o.findIndex((function(e){return e.matches}));return(null==t?void 0:t[e])||r}),[]),i=n.useState(c),f=i[0],a=i[1];return n.useEffect((function(){var e=function(){return a(c)};return o.forEach((function(n){return n.addEventListener("change",e)})),function(){return o.forEach((function(n){return n.removeEventListener("change",e)}))}}),[]),f},exports.useMergeRefs=function(){for(var e=arguments.length,t=new Array(e),u=0;u<e;u++)t[u]=arguments[u];return n.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(n){n&&i(n,e)}))}}),t)},exports.useOnClickOutside=function(e,t){n.useEffect((function(){if(t){var n=function(n){e.current&&!e.current.contains(n.target)&&t(n)};return f.forEach((function(e){document.addEventListener(e,n)})),function(){f.forEach((function(e){document.removeEventListener(e,n)}))}}}),[e,t])},exports.usePagination=function(e){var t=e.pageSize,u=e.totalPage,r=n.useState(e.page),o=r[0],c=r[1];n.useEffect((function(){c(e.page)}),[e.page]);var i=n.useMemo((function(){return o+1<=u}),[o,u]),f=n.useMemo((function(){return o-1>=1}),[o]),a=n.useCallback((function(e){void 0===e&&(e=!1),i&&c(e?u:function(e){return e+1})}),[i,u]),s=n.useCallback((function(e){void 0===e&&(e=!1),f&&c(e?1:function(e){return e-1})}),[f]),l=n.useCallback((function(e){e>=1&&e<=u&&c(e)}),[u]);return{currentPage:o,pageSize:t,totalPage:u,hasNextPage:i,hasPreviousPage:f,next:a,back:s,go:l}},exports.usePrevious=r,exports.useWhyDidYouUpdate=function(e,t){var u=n.useRef({});n.useEffect((function(){if(u.current){var n=Object.keys(o({},u.current,t)),r={};n.forEach((function(e){u.current[e]!==t[e]&&(r[e]={from:u.current[e],to:t[e]})})),Object.keys(r).length&&console.log("[why-did-you-update]",e,r)}u.current=t}))};
//# sourceMappingURL=react-hooks.cjs.production.min.js.map
